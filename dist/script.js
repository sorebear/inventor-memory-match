"use strict";function randomizeCards(){for(var e=["pair1","pair1","pair2","pair2","pair3","pair3","pair4","pair4","pair5","pair5","pair6","pair6","pair7","pair7","pair8","pair8","pair9","pair9"],s=[];e.length>0;){var a=Math.floor(Math.random()*e.length);s.push(e[a]),e.splice(a,1)}for(var i=0;i<s.length;i+=1)$("#hex"+i).attr("src",cardImgs[s[i]])}function animateDisplayMessage(){setTimeout(function(){$(".message_prompt > h2").addClass("highlightAnimation")},100),setTimeout(function(){$(".message_prompt > h2").removeClass("highlightAnimation")},400)}function updateStats(){guesses+=1,$(".display_matches").html(matches),$(".display_guesses").html(guesses),matches>0&&$(".display_accuracy").html(Math.floor(matches/guesses*100)+"%"),matches>=9&&($(".no-rotate-button > img").css("display","none"),$(".message_prompt > h2").text("-YOU WIN!-"),animateDisplayMessage())}function rotateHexClockwise(e){e.css("transition","1s"),e.hasClass("deg-60")?e.addClass("deg-120").removeClass("deg-60"):e.hasClass("deg-120")?e.addClass("deg-180").removeClass("deg-120"):e.hasClass("deg-180")?e.addClass("deg-240").removeClass("deg-180"):e.hasClass("deg-240")?e.addClass("deg-300").removeClass("deg-240"):e.hasClass("deg-300")&&e.addClass("deg-360").removeClass("deg-300"),setTimeout(function(){e.css("transition","0s")},1e3)}function rotateHexCounterClockwise(e){e.css("transition","1s"),e.hasClass("deg-60")?e.addClass("deg-0").removeClass("deg-60"):e.hasClass("deg-120")?e.addClass("deg-60").removeClass("deg-120"):e.hasClass("deg-180")?e.addClass("deg-120").removeClass("deg-180"):e.hasClass("deg-240")?e.addClass("deg-180").removeClass("deg-240"):e.hasClass("deg-300")&&e.addClass("deg-240").removeClass("deg-300"),setTimeout(function(){e.css("transition","0s")},1e3)}function resetRotate(e){(e.hasClass("deg-360")||e.hasClass("deg-0"))&&e.addClass("deg-180").removeClass("deg-360").removeClass("deg-0")}function resetFlippedVariables(){firstCardFlipped=null,secondCardFlipped=null}function showRotators(){$(".card:not(.locked)").find(".clockwise-icon > img, .counterclockwise-icon > img").css("display","inline-block"),$(".no-rotate-button > img").css("display","block"),$(".message_prompt > h2").text("-Choose A Hex To Rotate-"),animateDisplayMessage()}function chooseRotate(){var e=!0;$(".clockwise-icon > img").click(function(s){if(e){e=!1;var a=$(s.currentTarget).parent().parent().find(".front img"),i=$(s.currentTarget).parent().parent().find(".back img");$(".clockwise-icon > img").css("display","none"),$(".counterclockwise-icon > img").css("display","none"),$(".no-rotate-button > img").css("display","none"),rotateHexClockwise(a),rotateHexClockwise(i),setTimeout(function(){resetRotate(a),resetRotate(i),resetFlippedVariables(),$(".message_prompt > h2").text("-Choose A Hex To Reveal-"),animateDisplayMessage(),e=!0},1e3)}}),$(".counterclockwise-icon > img").click(function(s){if(e){e=!1;var a=$(s.currentTarget).parent().parent().find(".front img"),i=$(s.currentTarget).parent().parent().find(".back img");$(".clockwise-icon > img").css("display","none"),$(".counterclockwise-icon > img").css("display","none"),$(".no-rotate-button > img").css("display","none"),rotateHexCounterClockwise(a),rotateHexCounterClockwise(i),setTimeout(function(){resetRotate(a),resetRotate(i),resetFlippedVariables(),$(".message_prompt > h2").text("-Choose A Hex To Reveal-"),animateDisplayMessage(),e=!0},1e3)}}),$(".no-rotate-button > img").click(function(){$(".clockwise-icon > img").css("display","none"),$(".counterclockwise-icon > img").css("display","none"),$(".no-rotate-button > img").css("display","none"),$(".message_prompt > h2").text("-Choose A Hex To Reveal-"),animateDisplayMessage(),setTimeout(resetFlippedVariables,100)})}function noMatch(){$(firstCardFlipped).find(".back img").removeClass("hidden"),$(firstCardFlipped).removeClass("locked"),$(secondCardFlipped).find(".back img").removeClass("hidden"),$(secondCardFlipped).removeClass("locked"),rotateHexClockwise($(firstCardFlipped).find(".back img")),rotateHexClockwise($(firstCardFlipped).find(".front img")),rotateHexCounterClockwise($(secondCardFlipped).find(".back img")),rotateHexCounterClockwise($(secondCardFlipped).find(".front img")),setTimeout(function(){resetRotate($(secondCardFlipped).find(".back img")),resetRotate($(secondCardFlipped).find(".front img")),resetRotate($(firstCardFlipped).find(".back img")),resetRotate($(firstCardFlipped).find(".front img")),resetFlippedVariables()},1e3)}function handleFirstFlippedHex(e){firstCardFlipped=e.currentTarget,$(".message_prompt > h2").text("-Choose A Second Hex To Reveal-"),animateDisplayMessage()}function handleSecondFlippedHex(e){$(firstCardFlipped).find(".front img").attr("src")===$(e.currentTarget).find(".front img").attr("src")?(secondCardFlipped=e.currentTarget,$(firstCardFlipped).find(".front img").hasClass("deg-180")&&$(secondCardFlipped).find(".front img").hasClass("deg-180")||$(firstCardFlipped).find(".front img").hasClass("deg-60")&&$(secondCardFlipped).find(".front img").hasClass("deg-60")||$(firstCardFlipped).find(".front img").hasClass("deg-60")&&$(secondCardFlipped).find(".front img").hasClass("deg-240")||$(firstCardFlipped).find(".front img").hasClass("deg-120")&&$(secondCardFlipped).find(".front img").hasClass("deg-120")||$(firstCardFlipped).find(".front img").hasClass("deg-120")&&$(secondCardFlipped).find(".front img").hasClass("deg-300")||$(firstCardFlipped).find(".front img").hasClass("deg-240")&&$(secondCardFlipped).find(".front img").hasClass("deg-240")||$(firstCardFlipped).find(".front img").hasClass("deg-240")&&$(secondCardFlipped).find(".front img").hasClass("deg-60")||$(firstCardFlipped).find(".front img").hasClass("deg-300")&&$(secondCardFlipped).find(".front img").hasClass("deg-300")||$(firstCardFlipped).find(".front img").hasClass("deg-300")&&$(secondCardFlipped).find(".front img").hasClass("deg-120")?(matches+=1,updateStats(),matches<9&&showRotators()):($(".message_prompt > h2").text("-The Orientations Do Not Match-"),animateDisplayMessage(),updateStats(),setTimeout(noMatch,800))):(secondCardFlipped=e.currentTarget,updateStats(),$(".message_prompt > h2").text("-The Inventors Do Not Match-"),animateDisplayMessage(),setTimeout(noMatch,800))}function flipHex(){$(".card").click(function(e){$(e.currentTarget).hasClass("locked")||null===secondCardFlipped&&($(e.currentTarget).find(".back img").css("transition","1s"),$(e.currentTarget).find(".back > img").addClass("hidden"),$(e.currentTarget).addClass("locked"),null===firstCardFlipped?handleFirstFlippedHex(e):handleSecondFlippedHex(e))})}function restartGame(e){$(".stat-bar button").click(function(){$(".card").addClass("locked"),$(".card .back img").removeClass("hidden"),$(".message_prompt > h2").text("-Choose A Hex To Reveal-"),animateDisplayMessage(e),matches=0,guesses=0,gamesPlayed+=1,$(".display_matches").html(matches),$(".display_guesses").html(guesses),$(".display_games_played").html(gamesPlayed),$(".display_accuracy").html("--"),$(".clockwise-icon > img").css("display","none"),$(".counterclockwise-icon > img").css("display","none"),$(".no-rotate-button > img").css("display","none"),resetFlippedVariables(),setTimeout(function(){$(".hexagon").css("transition","1s").addClass("deg-180").removeClass("deg-0 deg-60 deg-120 deg-240 deg-300 deg-360"),randomizeCards(),$(".card").removeClass("locked")},1e3)})}var matches=0,guesses=0,gamesPlayed=0,firstCardFlipped=null,secondCardFlipped=null,cardImgs={pair1:"http://res.cloudinary.com/sorebear/image/upload/c_scale,w_150/v1520717898/inventory-memory-match/pair1.png",pair2:"http://res.cloudinary.com/sorebear/image/upload/c_scale,w_150/v1520717903/inventory-memory-match/pair2.png",pair3:"http://res.cloudinary.com/sorebear/image/upload/c_scale,w_150/v1520717901/inventory-memory-match/pair3.png",pair4:"http://res.cloudinary.com/sorebear/image/upload/c_scale,w_150/v1520717906/inventory-memory-match/pair4.png",pair5:"http://res.cloudinary.com/sorebear/image/upload/c_scale,w_150/v1520717902/inventory-memory-match/pair5.png",pair6:"http://res.cloudinary.com/sorebear/image/upload/c_scale,w_150/v1520717908/inventory-memory-match/pair6.png",pair7:"http://res.cloudinary.com/sorebear/image/upload/c_scale,w_150/v1520717906/inventory-memory-match/pair7.png",pair8:"http://res.cloudinary.com/sorebear/image/upload/c_scale,w_150/v1520717915/inventory-memory-match/pair8.png",pair9:"http://res.cloudinary.com/sorebear/image/upload/c_scale,w_150/v1520717914/inventory-memory-match/pair9.png"};$(document).ready(function(){flipHex(),chooseRotate(),randomizeCards(),restartGame()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJyYW5kb21pemVDYXJkcyIsImNhcmRzIiwicmFuZG9tQ2FyZHMiLCJsZW5ndGgiLCJpIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwicHVzaCIsInNwbGljZSIsImoiLCIkIiwiYXR0ciIsImNhcmRJbWdzIiwiYW5pbWF0ZURpc3BsYXlNZXNzYWdlIiwic2V0VGltZW91dCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJ1cGRhdGVTdGF0cyIsImd1ZXNzZXMiLCJodG1sIiwibWF0Y2hlcyIsImNzcyIsInRleHQiLCJyb3RhdGVIZXhDbG9ja3dpc2UiLCJzZWxlY3RlZENhcmQiLCJoYXNDbGFzcyIsInJvdGF0ZUhleENvdW50ZXJDbG9ja3dpc2UiLCJyZXNldFJvdGF0ZSIsInJlc2V0RmxpcHBlZFZhcmlhYmxlcyIsImZpcnN0Q2FyZEZsaXBwZWQiLCJzZWNvbmRDYXJkRmxpcHBlZCIsInNob3dSb3RhdG9ycyIsImZpbmQiLCJjaG9vc2VSb3RhdGUiLCJub3RDbGlja2VkIiwiY2xpY2siLCJlIiwiY3VycmVudEhleEZyb250IiwiY3VycmVudFRhcmdldCIsInBhcmVudCIsImN1cnJlbnRIZXhCYWNrIiwibm9NYXRjaCIsImhhbmRsZUZpcnN0RmxpcHBlZEhleCIsImhhbmRsZVNlY29uZEZsaXBwZWRIZXgiLCJmbGlwSGV4IiwicmVzdGFydEdhbWUiLCJnYW1lc1BsYXllZCIsInBhaXIxIiwicGFpcjIiLCJwYWlyMyIsInBhaXI0IiwicGFpcjUiLCJwYWlyNiIsInBhaXI3IiwicGFpcjgiLCJwYWlyOSIsImRvY3VtZW50IiwicmVhZHkiXSwibWFwcGluZ3MiOiJBQUFBLGFBdUJBLFNBQVNBLGlCQUdQLElBRkEsSUFBSUMsR0FBUyxRQUFTLFFBQVMsUUFBUyxRQUFTLFFBQVMsUUFBUyxRQUFTLFFBQVMsUUFBUyxRQUFTLFFBQVMsUUFBUyxRQUFTLFFBQVMsUUFBUyxRQUFTLFFBQVMsU0FDbEtDLEtBQ0dELEVBQU1FLE9B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QUFZVyxJQUFJLGFBQWMsTUFBTU4sU0FBUyxXQUFXQyxZQUFZLGdEQUN0RWpCLGlCQUNBVyxFQUFFLFNBQVNNLFlBQVksV0FDdEIsT0F0UVAsSUFBSUksUUFBVSxFQUNWRixRQUFVLEVBQ1Y0QixZQUFjLEVBQ2RqQixpQkFBbUIsS0FDbkJDLGtCQUFvQixLQUVwQmxCLFVBQ0ZtQyxNQUFPLDZHQUNQQyxNQUFPLDZHQUNQQyxNQUFPLDZHQUNQQyxNQUFPLDZHQUNQQyxNQUFPLDZHQUNQQyxNQUFPLDZHQUNQQyxNQUFPLDZHQUNQQyxNQUFPLDZHQUNQQyxNQUFPLDhHQTJQVDdDLEVBQUU4QyxVQUFVQyxNQUFNLFdBQ2hCYixVQUNBWCxlQUNBbEMsaUJBQ0E4QyIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8vIGltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5cbnZhciBtYXRjaGVzID0gMDtcbnZhciBndWVzc2VzID0gMDtcbnZhciBnYW1lc1BsYXllZCA9IDA7XG52YXIgZmlyc3RDYXJkRmxpcHBlZCA9IG51bGw7XG52YXIgc2Vjb25kQ2FyZEZsaXBwZWQgPSBudWxsO1xuXG52YXIgY2FyZEltZ3MgPSB7XG4gIHBhaXIxOiAnaHR0cDovL3Jlcy5jbG91ZGluYXJ5LmNvbS9zb3JlYmVhci9pbWFnZS91cGxvYWQvY19zY2FsZSx3XzE1MC92MTUyMDcxNzg5OC9pbnZlbnRvcnktbWVtb3J5LW1hdGNoL3BhaXIxLnBuZycsXG4gIHBhaXIyOiAnaHR0cDovL3Jlcy5jbG91ZGluYXJ5LmNvbS9zb3JlYmVhci9pbWFnZS91cGxvYWQvY19zY2FsZSx3XzE1MC92MTUyMDcxNzkwMy9pbnZlbnRvcnktbWVtb3J5LW1hdGNoL3BhaXIyLnBuZycsXG4gIHBhaXIzOiAnaHR0cDovL3Jlcy5jbG91ZGluYXJ5LmNvbS9zb3JlYmVhci9pbWFnZS91cGxvYWQvY19zY2FsZSx3XzE1MC92MTUyMDcxNzkwMS9pbnZlbnRvcnktbWVtb3J5LW1hdGNoL3BhaXIzLnBuZycsXG4gIHBhaXI0OiAnaHR0cDovL3Jlcy5jbG91ZGluYXJ5LmNvbS9zb3JlYmVhci9pbWFnZS91cGxvYWQvY19zY2FsZSx3XzE1MC92MTUyMDcxNzkwNi9pbnZlbnRvcnktbWVtb3J5LW1hdGNoL3BhaXI0LnBuZycsXG4gIHBhaXI1OiAnaHR0cDovL3Jlcy5jbG91ZGluYXJ5LmNvbS9zb3JlYmVhci9pbWFnZS91cGxvYWQvY19zY2FsZSx3XzE1MC92MTUyMDcxNzkwMi9pbnZlbnRvcnktbWVtb3J5LW1hdGNoL3BhaXI1LnBuZycsXG4gIHBhaXI2OiAnaHR0cDovL3Jlcy5jbG91ZGluYXJ5LmNvbS9zb3JlYmVhci9pbWFnZS91cGxvYWQvY19zY2FsZSx3XzE1MC92MTUyMDcxNzkwOC9pbnZlbnRvcnktbWVtb3J5LW1hdGNoL3BhaXI2LnBuZycsXG4gIHBhaXI3OiAnaHR0cDovL3Jlcy5jbG91ZGluYXJ5LmNvbS9zb3JlYmVhci9pbWFnZS91cGxvYWQvY19zY2FsZSx3XzE1MC92MTUyMDcxNzkwNi9pbnZlbnRvcnktbWVtb3J5LW1hdGNoL3BhaXI3LnBuZycsXG4gIHBhaXI4OiAnaHR0cDovL3Jlcy5jbG91ZGluYXJ5LmNvbS9zb3JlYmVhci9pbWFnZS91cGxvYWQvY19zY2FsZSx3XzE1MC92MTUyMDcxNzkxNS9pbnZlbnRvcnktbWVtb3J5LW1hdGNoL3BhaXI4LnBuZycsXG4gIHBhaXI5OiAnaHR0cDovL3Jlcy5jbG91ZGluYXJ5LmNvbS9zb3JlYmVhci9pbWFnZS91cGxvYWQvY19zY2FsZSx3XzE1MC92MTUyMDcxNzkxNC9pbnZlbnRvcnktbWVtb3J5LW1hdGNoL3BhaXI5LnBuZydcbn07XG5cbi8vIEZ1bmN0aW9uIHRvIFNodWZmbGUgSGV4IENhcmRzIFVwb24gSW5pdCBhbmQgR2FtZSBSZXNldFxuZnVuY3Rpb24gcmFuZG9taXplQ2FyZHMoKSB7XG4gIHZhciBjYXJkcyA9IFsncGFpcjEnLCAncGFpcjEnLCAncGFpcjInLCAncGFpcjInLCAncGFpcjMnLCAncGFpcjMnLCAncGFpcjQnLCAncGFpcjQnLCAncGFpcjUnLCAncGFpcjUnLCAncGFpcjYnLCAncGFpcjYnLCAncGFpcjcnLCAncGFpcjcnLCAncGFpcjgnLCAncGFpcjgnLCAncGFpcjknLCAncGFpcjknXTtcbiAgdmFyIHJhbmRvbUNhcmRzID0gW107XG4gIHdoaWxlIChjYXJkcy5sZW5ndGggPiAwKSB7XG4gICAgdmFyIGkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjYXJkcy5sZW5ndGgpO1xuICAgIHJhbmRvbUNhcmRzLnB1c2goY2FyZHNbaV0pO1xuICAgIGNhcmRzLnNwbGljZShpLCAxKTtcbiAgfVxuICBmb3IgKHZhciBqID0gMDsgaiA8IHJhbmRvbUNhcmRzLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgJCgnI2hleCcgKyBqKS5hdHRyKCdzcmMnLCBjYXJkSW1nc1tyYW5kb21DYXJkc1tqXV0pO1xuICB9XG59XG5cbi8vIFRoaXMgZnVuY3Rpb24gYWRkcyBhIHN1YnRsZSBhbmltYXRpb24gd2hlbmV2ZXIgdGhlIGJvdHRvbSBkaXNwbGF5IG1lc3NhZ2UgaXMgY2hhbmdlZFxuZnVuY3Rpb24gYW5pbWF0ZURpc3BsYXlNZXNzYWdlKCkge1xuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAkKCcubWVzc2FnZV9wcm9tcHQgPiBoMicpLmFkZENsYXNzKCdoaWdobGlnaHRBbmltYXRpb24nKTtcbiAgfSwgMTAwKTtcblxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAkKCcubWVzc2FnZV9wcm9tcHQgPiBoMicpLnJlbW92ZUNsYXNzKCdoaWdobGlnaHRBbmltYXRpb24nKTtcbiAgfSwgNDAwKTtcbn1cblxuLy8gVGhpcyBmdW5jdGlvbiBmaXJlZCBhZnRlciBldmVyeSBndWVzcyB0byB1cGRhdGUgc3RhdHMgYW5kIGNoZWNrIGlmIHdpbiBjb25kaXRpb25zIGFyZSBtZXRcbmZ1bmN0aW9uIHVwZGF0ZVN0YXRzKCkge1xuICBndWVzc2VzICs9IDE7XG4gICQoJy5kaXNwbGF5X21hdGNoZXMnKS5odG1sKG1hdGNoZXMpO1xuICAkKCcuZGlzcGxheV9ndWVzc2VzJykuaHRtbChndWVzc2VzKTtcbiAgaWYgKG1hdGNoZXMgPiAwKSB7XG4gICAgJCgnLmRpc3BsYXlfYWNjdXJhY3knKS5odG1sKE1hdGguZmxvb3IobWF0Y2hlcyAvIGd1ZXNzZXMgKiAxMDApICsgJyUnKTtcbiAgfVxuICBpZiAobWF0Y2hlcyA+PSA5KSB7XG4gICAgJCgnLm5vLXJvdGF0ZS1idXR0b24gPiBpbWcnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICQoJy5tZXNzYWdlX3Byb21wdCA+IGgyJykudGV4dCgnLVlPVSBXSU4hLScpO1xuICAgIGFuaW1hdGVEaXNwbGF5TWVzc2FnZSgpO1xuICB9XG59XG5cbi8vIFJlbW92ZSB0aGUgY3VycmVudCByb3RhdGlvbiBjbGFzcyBhbmQgYWRkIHRoZSBuZXh0IHJvdGF0aW9uIGNsYXNzIG1vdmluZyBjbG9ja3dpc2VcbmZ1bmN0aW9uIHJvdGF0ZUhleENsb2Nrd2lzZShzZWxlY3RlZENhcmQpIHtcbiAgc2VsZWN0ZWRDYXJkLmNzcygndHJhbnNpdGlvbicsICcxcycpO1xuICBpZiAoc2VsZWN0ZWRDYXJkLmhhc0NsYXNzKCdkZWctNjAnKSkge1xuICAgIHNlbGVjdGVkQ2FyZC5hZGRDbGFzcygnZGVnLTEyMCcpLnJlbW92ZUNsYXNzKCdkZWctNjAnKTtcbiAgfSBlbHNlIGlmIChzZWxlY3RlZENhcmQuaGFzQ2xhc3MoJ2RlZy0xMjAnKSkge1xuICAgIHNlbGVjdGVkQ2FyZC5hZGRDbGFzcygnZGVnLTE4MCcpLnJlbW92ZUNsYXNzKCdkZWctMTIwJyk7XG4gIH0gZWxzZSBpZiAoc2VsZWN0ZWRDYXJkLmhhc0NsYXNzKCdkZWctMTgwJykpIHtcbiAgICBzZWxlY3RlZENhcmQuYWRkQ2xhc3MoJ2RlZy0yNDAnKS5yZW1vdmVDbGFzcygnZGVnLTE4MCcpO1xuICB9IGVsc2UgaWYgKHNlbGVjdGVkQ2FyZC5oYXNDbGFzcygnZGVnLTI0MCcpKSB7XG4gICAgc2VsZWN0ZWRDYXJkLmFkZENsYXNzKCdkZWctMzAwJykucmVtb3ZlQ2xhc3MoJ2RlZy0yNDAnKTtcbiAgfSBlbHNlIGlmIChzZWxlY3RlZENhcmQuaGFzQ2xhc3MoJ2RlZy0zMDAnKSkge1xuICAgIHNlbGVjdGVkQ2FyZC5hZGRDbGFzcygnZGVnLTM2MCcpLnJlbW92ZUNsYXNzKCdkZWctMzAwJyk7XG4gIH1cbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgc2VsZWN0ZWRDYXJkLmNzcygndHJhbnNpdGlvbicsICcwcycpO1xuICB9LCAxMDAwKTtcbn1cblxuLy8gUmVtb3ZlIHRoZSBjdXJyZW50IHJvdGF0aW9uIGNsYXNzIGFuZCBhZGQgdGhlIG5leHQgcm90YXRpb24gY2xhc3MgbW92aW5nIGNvdW50ZXItY2xvY2t3aXNlXG5mdW5jdGlvbiByb3RhdGVIZXhDb3VudGVyQ2xvY2t3aXNlKHNlbGVjdGVkQ2FyZCkge1xuICBzZWxlY3RlZENhcmQuY3NzKCd0cmFuc2l0aW9uJywgJzFzJyk7XG4gIGlmIChzZWxlY3RlZENhcmQuaGFzQ2xhc3MoJ2RlZy02MCcpKSB7XG4gICAgc2VsZWN0ZWRDYXJkLmFkZENsYXNzKCdkZWctMCcpLnJlbW92ZUNsYXNzKCdkZWctNjAnKTtcbiAgfSBlbHNlIGlmIChzZWxlY3RlZENhcmQuaGFzQ2xhc3MoJ2RlZy0xMjAnKSkge1xuICAgIHNlbGVjdGVkQ2FyZC5hZGRDbGFzcygnZGVnLTYwJykucmVtb3ZlQ2xhc3MoJ2RlZy0xMjAnKTtcbiAgfSBlbHNlIGlmIChzZWxlY3RlZENhcmQuaGFzQ2xhc3MoJ2RlZy0xODAnKSkge1xuICAgIHNlbGVjdGVkQ2FyZC5hZGRDbGFzcygnZGVnLTEyMCcpLnJlbW92ZUNsYXNzKCdkZWctMTgwJyk7XG4gIH0gZWxzZSBpZiAoc2VsZWN0ZWRDYXJkLmhhc0NsYXNzKCdkZWctMjQwJykpIHtcbiAgICBzZWxlY3RlZENhcmQuYWRkQ2xhc3MoJ2RlZy0xODAnKS5yZW1vdmVDbGFzcygnZGVnLTI0MCcpO1xuICB9IGVsc2UgaWYgKHNlbGVjdGVkQ2FyZC5oYXNDbGFzcygnZGVnLTMwMCcpKSB7XG4gICAgc2VsZWN0ZWRDYXJkLmFkZENsYXNzKCdkZWctMjQwJykucmVtb3ZlQ2xhc3MoJ2RlZy0zMDAnKTtcbiAgfVxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICBzZWxlY3RlZENhcmQuY3NzKCd0cmFuc2l0aW9uJywgJzBzJyk7XG4gIH0sIDEwMDApO1xufVxuXG4vLyBSZXN0IHRoZSByb3RhdGlvbiBmcm9tIDM2MCBvciAwIHRvIDE4MC4gVGhpcyBoZWxwcyBtYW5hZ2UgaW5maXRlIHJvdGF0aW9uIGluIG9uZSBkaXJlY3Rpb25cbmZ1bmN0aW9uIHJlc2V0Um90YXRlKHNlbGVjdGVkQ2FyZCkge1xuICBpZiAoc2VsZWN0ZWRDYXJkLmhhc0NsYXNzKCdkZWctMzYwJykgfHwgc2VsZWN0ZWRDYXJkLmhhc0NsYXNzKCdkZWctMCcpKSB7XG4gICAgc2VsZWN0ZWRDYXJkLmFkZENsYXNzKCdkZWctMTgwJykucmVtb3ZlQ2xhc3MoJ2RlZy0zNjAnKS5yZW1vdmVDbGFzcygnZGVnLTAnKTtcbiAgfVxufVxuXG4vLyBXaGVuIHRoZSB0d28gY2FyZHMgZnJvbSBhIGd1ZXNzIGRvIG5vdCBtYXRjaCwgdGhleSB3aWxsIGZsaXAgYmFjayBvdmVyXG5mdW5jdGlvbiByZXNldEZsaXBwZWRWYXJpYWJsZXMoKSB7XG4gIGZpcnN0Q2FyZEZsaXBwZWQgPSBudWxsO1xuICBzZWNvbmRDYXJkRmxpcHBlZCA9IG51bGw7XG59XG5cbi8vIFdoZW4gYSB1c2VyIG1ha2VzIGEgc3VjY2Vzc2Z1bCBtYXRjaCwgdGhleSBoYXZlIHRoZSBjaG9pY2Ugb2Ygcm90YXRpbmcgYSByZW1haW5pbmcgY2FyZFxuLy8gVGhpcyBmdW5jdGlvbiBkaXNwbGF5cyB0aGUgYnV0dG9ucyBmb3Igcm90YXRpbmcgb24gYWxsIHJlbWFpbmluZyBjYXJkc1xuZnVuY3Rpb24gc2hvd1JvdGF0b3JzKCkge1xuICAkKCcuY2FyZDpub3QoLmxvY2tlZCknKS5maW5kKCcuY2xvY2t3aXNlLWljb24gPiBpbWcsIC5jb3VudGVyY2xvY2t3aXNlLWljb24gPiBpbWcnKS5jc3MoJ2Rpc3BsYXknLCAnaW5saW5lLWJsb2NrJyk7XG4gICQoJy5uby1yb3RhdGUtYnV0dG9uID4gaW1nJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG4gICQoJy5tZXNzYWdlX3Byb21wdCA+IGgyJykudGV4dCgnLUNob29zZSBBIEhleCBUbyBSb3RhdGUtJyk7XG4gIGFuaW1hdGVEaXNwbGF5TWVzc2FnZSgpO1xufVxuXG4vLyBIYW5kbGVzIHJvdGF0aW9uIG9mIHRoZSBwbGF5ZXIncyBjaG9zZW4gaGV4LCB0aGVuIGhpZGVzIGFsbCBvZiB0aGUgcm90YXRpb24gYnV0dG9uc1xuZnVuY3Rpb24gY2hvb3NlUm90YXRlKCkge1xuICB2YXIgbm90Q2xpY2tlZCA9IHRydWU7XG4gICQoJy5jbG9ja3dpc2UtaWNvbiA+IGltZycpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKG5vdENsaWNrZWQpIHtcbiAgICAgIG5vdENsaWNrZWQgPSBmYWxzZTtcbiAgICAgIHZhciBjdXJyZW50SGV4RnJvbnQgPSAkKGUuY3VycmVudFRhcmdldCkucGFyZW50KCkucGFyZW50KCkuZmluZCgnLmZyb250IGltZycpO1xuICAgICAgdmFyIGN1cnJlbnRIZXhCYWNrID0gJChlLmN1cnJlbnRUYXJnZXQpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJy5iYWNrIGltZycpO1xuICAgICAgJCgnLmNsb2Nrd2lzZS1pY29uID4gaW1nJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICQoJy5jb3VudGVyY2xvY2t3aXNlLWljb24gPiBpbWcnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgJCgnLm5vLXJvdGF0ZS1idXR0b24gPiBpbWcnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgcm90YXRlSGV4Q2xvY2t3aXNlKGN1cnJlbnRIZXhGcm9udCk7XG4gICAgICByb3RhdGVIZXhDbG9ja3dpc2UoY3VycmVudEhleEJhY2spO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlc2V0Um90YXRlKGN1cnJlbnRIZXhGcm9udCk7XG4gICAgICAgIHJlc2V0Um90YXRlKGN1cnJlbnRIZXhCYWNrKTtcbiAgICAgICAgcmVzZXRGbGlwcGVkVmFyaWFibGVzKCk7XG4gICAgICAgICQoJy5tZXNzYWdlX3Byb21wdCA+IGgyJykudGV4dCgnLUNob29zZSBBIEhleCBUbyBSZXZlYWwtJyk7XG4gICAgICAgIGFuaW1hdGVEaXNwbGF5TWVzc2FnZSgpO1xuICAgICAgICBub3RDbGlja2VkID0gdHJ1ZTtcbiAgICAgIH0sIDEwMDApO1xuICAgIH1cbiAgfSk7XG4gICQoJy5jb3VudGVyY2xvY2t3aXNlLWljb24gPiBpbWcnKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgIGlmIChub3RDbGlja2VkKSB7XG4gICAgICBub3RDbGlja2VkID0gZmFsc2U7XG4gICAgICB2YXIgY3VycmVudEhleEZyb250ID0gJChlLmN1cnJlbnRUYXJnZXQpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJy5mcm9udCBpbWcnKTtcbiAgICAgIHZhciBjdXJyZW50SGV4QmFjayA9ICQoZS5jdXJyZW50VGFyZ2V0KS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCcuYmFjayBpbWcnKTtcbiAgICAgICQoJy5jbG9ja3dpc2UtaWNvbiA+IGltZycpLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgICAkKCcuY291bnRlcmNsb2Nrd2lzZS1pY29uID4gaW1nJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICQoJy5uby1yb3RhdGUtYnV0dG9uID4gaW1nJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgIHJvdGF0ZUhleENvdW50ZXJDbG9ja3dpc2UoY3VycmVudEhleEZyb250KTtcbiAgICAgIHJvdGF0ZUhleENvdW50ZXJDbG9ja3dpc2UoY3VycmVudEhleEJhY2spO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlc2V0Um90YXRlKGN1cnJlbnRIZXhGcm9udCk7XG4gICAgICAgIHJlc2V0Um90YXRlKGN1cnJlbnRIZXhCYWNrKTtcbiAgICAgICAgcmVzZXRGbGlwcGVkVmFyaWFibGVzKCk7XG4gICAgICAgICQoJy5tZXNzYWdlX3Byb21wdCA+IGgyJykudGV4dCgnLUNob29zZSBBIEhleCBUbyBSZXZlYWwtJyk7XG4gICAgICAgIGFuaW1hdGVEaXNwbGF5TWVzc2FnZSgpO1xuICAgICAgICBub3RDbGlja2VkID0gdHJ1ZTtcbiAgICAgIH0sIDEwMDApO1xuICAgIH1cbiAgfSk7XG4gICQoJy5uby1yb3RhdGUtYnV0dG9uID4gaW1nJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICQoJy5jbG9ja3dpc2UtaWNvbiA+IGltZycpLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgJCgnLmNvdW50ZXJjbG9ja3dpc2UtaWNvbiA+IGltZycpLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgJCgnLm5vLXJvdGF0ZS1idXR0b24gPiBpbWcnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICQoJy5tZXNzYWdlX3Byb21wdCA+IGgyJykudGV4dCgnLUNob29zZSBBIEhleCBUbyBSZXZlYWwtJyk7XG4gICAgYW5pbWF0ZURpc3BsYXlNZXNzYWdlKCk7XG4gICAgc2V0VGltZW91dChyZXNldEZsaXBwZWRWYXJpYWJsZXMsIDEwMCk7XG4gIH0pO1xufVxuXG4vLyBXaGVuIGEgcGxheWVyIGRvZXMgbm90IGdldCBhIG1hdGNoLCB0aGUgY2FyZCBoZXggaXMgZmxpcHBlZCBiYWNrIGFuZCBpcyByb3RhdGVkXG5mdW5jdGlvbiBub01hdGNoKCkge1xuICAkKGZpcnN0Q2FyZEZsaXBwZWQpLmZpbmQoJy5iYWNrIGltZycpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgJChmaXJzdENhcmRGbGlwcGVkKS5yZW1vdmVDbGFzcygnbG9ja2VkJyk7XG4gICQoc2Vjb25kQ2FyZEZsaXBwZWQpLmZpbmQoJy5iYWNrIGltZycpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgJChzZWNvbmRDYXJkRmxpcHBlZCkucmVtb3ZlQ2xhc3MoJ2xvY2tlZCcpO1xuICByb3RhdGVIZXhDbG9ja3dpc2UoJChmaXJzdENhcmRGbGlwcGVkKS5maW5kKCcuYmFjayBpbWcnKSk7XG4gIHJvdGF0ZUhleENsb2Nrd2lzZSgkKGZpcnN0Q2FyZEZsaXBwZWQpLmZpbmQoJy5mcm9udCBpbWcnKSk7XG4gIHJvdGF0ZUhleENvdW50ZXJDbG9ja3dpc2UoJChzZWNvbmRDYXJkRmxpcHBlZCkuZmluZCgnLmJhY2sgaW1nJykpO1xuICByb3RhdGVIZXhDb3VudGVyQ2xvY2t3aXNlKCQoc2Vjb25kQ2FyZEZsaXBwZWQpLmZpbmQoJy5mcm9udCBpbWcnKSk7XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIHJlc2V0Um90YXRlKCQoc2Vjb25kQ2FyZEZsaXBwZWQpLmZpbmQoJy5iYWNrIGltZycpKTtcbiAgICByZXNldFJvdGF0ZSgkKHNlY29uZENhcmRGbGlwcGVkKS5maW5kKCcuZnJvbnQgaW1nJykpO1xuICAgIHJlc2V0Um90YXRlKCQoZmlyc3RDYXJkRmxpcHBlZCkuZmluZCgnLmJhY2sgaW1nJykpO1xuICAgIHJlc2V0Um90YXRlKCQoZmlyc3RDYXJkRmxpcHBlZCkuZmluZCgnLmZyb250IGltZycpKTtcbiAgICByZXNldEZsaXBwZWRWYXJpYWJsZXMoKTtcbiAgfSwgMTAwMCk7XG59XG5cbi8vIEEgZnVuY3Rpb24gdGhhdCBmaXJlcyB3aGVuZXZlciB0aGUgdXNlciBjbGlja3Mgb24gYSBoZXggY2FyZFxuLy8gSWYgaXQncyB0aGUgc2Vjb25kIGNhcmQgZmxpcHBlZCBpdCB0aGVuIGV2YWx1YXRlZCBpZiBpdCBpcyBhIG1hdGNoIGluIHBpY3R1cmUgYW5kIG9yaWVudGF0aW9uXG5mdW5jdGlvbiBoYW5kbGVGaXJzdEZsaXBwZWRIZXgoZSkge1xuICBmaXJzdENhcmRGbGlwcGVkID0gZS5jdXJyZW50VGFyZ2V0O1xuICAkKCcubWVzc2FnZV9wcm9tcHQgPiBoMicpLnRleHQoJy1DaG9vc2UgQSBTZWNvbmQgSGV4IFRvIFJldmVhbC0nKTtcbiAgYW5pbWF0ZURpc3BsYXlNZXNzYWdlKCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVNlY29uZEZsaXBwZWRIZXgoZSkge1xuICBpZiAoJChmaXJzdENhcmRGbGlwcGVkKS5maW5kKCcuZnJvbnQgaW1nJykuYXR0cignc3JjJykgPT09ICQoZS5jdXJyZW50VGFyZ2V0KS5maW5kKCcuZnJvbnQgaW1nJykuYXR0cignc3JjJykpIHtcbiAgICBzZWNvbmRDYXJkRmxpcHBlZCA9IGUuY3VycmVudFRhcmdldDtcbiAgICBpZiAoJChmaXJzdENhcmRGbGlwcGVkKS5maW5kKCcuZnJvbnQgaW1nJykuaGFzQ2xhc3MoJ2RlZy0xODAnKSAmJiAkKHNlY29uZENhcmRGbGlwcGVkKS5maW5kKCcuZnJvbnQgaW1nJykuaGFzQ2xhc3MoJ2RlZy0xODAnKSB8fCAkKGZpcnN0Q2FyZEZsaXBwZWQpLmZpbmQoJy5mcm9udCBpbWcnKS5oYXNDbGFzcygnZGVnLTYwJykgJiYgJChzZWNvbmRDYXJkRmxpcHBlZCkuZmluZCgnLmZyb250IGltZycpLmhhc0NsYXNzKCdkZWctNjAnKSB8fCAkKGZpcnN0Q2FyZEZsaXBwZWQpLmZpbmQoJy5mcm9udCBpbWcnKS5oYXNDbGFzcygnZGVnLTYwJykgJiYgJChzZWNvbmRDYXJkRmxpcHBlZCkuZmluZCgnLmZyb250IGltZycpLmhhc0NsYXNzKCdkZWctMjQwJykgfHwgJChmaXJzdENhcmRGbGlwcGVkKS5maW5kKCcuZnJvbnQgaW1nJykuaGFzQ2xhc3MoJ2RlZy0xMjAnKSAmJiAkKHNlY29uZENhcmRGbGlwcGVkKS5maW5kKCcuZnJvbnQgaW1nJykuaGFzQ2xhc3MoJ2RlZy0xMjAnKSB8fCAkKGZpcnN0Q2FyZEZsaXBwZWQpLmZpbmQoJy5mcm9udCBpbWcnKS5oYXNDbGFzcygnZGVnLTEyMCcpICYmICQoc2Vjb25kQ2FyZEZsaXBwZWQpLmZpbmQoJy5mcm9udCBpbWcnKS5oYXNDbGFzcygnZGVnLTMwMCcpIHx8ICQoZmlyc3RDYXJkRmxpcHBlZCkuZmluZCgnLmZyb250IGltZycpLmhhc0NsYXNzKCdkZWctMjQwJykgJiYgJChzZWNvbmRDYXJkRmxpcHBlZCkuZmluZCgnLmZyb250IGltZycpLmhhc0NsYXNzKCdkZWctMjQwJykgfHwgJChmaXJzdENhcmRGbGlwcGVkKS5maW5kKCcuZnJvbnQgaW1nJykuaGFzQ2xhc3MoJ2RlZy0yNDAnKSAmJiAkKHNlY29uZENhcmRGbGlwcGVkKS5maW5kKCcuZnJvbnQgaW1nJykuaGFzQ2xhc3MoJ2RlZy02MCcpIHx8ICQoZmlyc3RDYXJkRmxpcHBlZCkuZmluZCgnLmZyb250IGltZycpLmhhc0NsYXNzKCdkZWctMzAwJykgJiYgJChzZWNvbmRDYXJkRmxpcHBlZCkuZmluZCgnLmZyb250IGltZycpLmhhc0NsYXNzKCdkZWctMzAwJykgfHwgJChmaXJzdENhcmRGbGlwcGVkKS5maW5kKCcuZnJvbnQgaW1nJykuaGFzQ2xhc3MoJ2RlZy0zMDAnKSAmJiAkKHNlY29uZENhcmRGbGlwcGVkKS5maW5kKCcuZnJvbnQgaW1nJykuaGFzQ2xhc3MoJ2RlZy0xMjAnKSkge1xuICAgICAgbWF0Y2hlcyArPSAxO1xuICAgICAgdXBkYXRlU3RhdHMoKTtcbiAgICAgIGlmIChtYXRjaGVzIDwgOSkge1xuICAgICAgICBzaG93Um90YXRvcnMoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgJCgnLm1lc3NhZ2VfcHJvbXB0ID4gaDInKS50ZXh0KCctVGhlIE9yaWVudGF0aW9ucyBEbyBOb3QgTWF0Y2gtJyk7XG4gICAgICBhbmltYXRlRGlzcGxheU1lc3NhZ2UoKTtcbiAgICAgIHVwZGF0ZVN0YXRzKCk7XG4gICAgICBzZXRUaW1lb3V0KG5vTWF0Y2gsIDgwMCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHNlY29uZENhcmRGbGlwcGVkID0gZS5jdXJyZW50VGFyZ2V0O1xuICAgIHVwZGF0ZVN0YXRzKCk7XG4gICAgJCgnLm1lc3NhZ2VfcHJvbXB0ID4gaDInKS50ZXh0KCctVGhlIEludmVudG9ycyBEbyBOb3QgTWF0Y2gtJyk7XG4gICAgYW5pbWF0ZURpc3BsYXlNZXNzYWdlKCk7XG4gICAgc2V0VGltZW91dChub01hdGNoLCA4MDApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZsaXBIZXgoKSB7XG4gICQoJy5jYXJkJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoJChlLmN1cnJlbnRUYXJnZXQpLmhhc0NsYXNzKCdsb2NrZWQnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoc2Vjb25kQ2FyZEZsaXBwZWQgIT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgJChlLmN1cnJlbnRUYXJnZXQpLmZpbmQoJy5iYWNrIGltZycpLmNzcygndHJhbnNpdGlvbicsICcxcycpO1xuICAgICQoZS5jdXJyZW50VGFyZ2V0KS5maW5kKCcuYmFjayA+IGltZycpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAkKGUuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoJ2xvY2tlZCcpO1xuICAgIGlmIChmaXJzdENhcmRGbGlwcGVkID09PSBudWxsKSB7XG4gICAgICBoYW5kbGVGaXJzdEZsaXBwZWRIZXgoZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbmRsZVNlY29uZEZsaXBwZWRIZXgoZSk7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gRnVuY3Rpb24gdG8gUmVzZXQgdGhlIEdhbWVcbmZ1bmN0aW9uIHJlc3RhcnRHYW1lKGUpIHtcbiAgJCgnLnN0YXQtYmFyIGJ1dHRvbicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAkKCcuY2FyZCcpLmFkZENsYXNzKCdsb2NrZWQnKTtcbiAgICAkKCcuY2FyZCAuYmFjayBpbWcnKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgJCgnLm1lc3NhZ2VfcHJvbXB0ID4gaDInKS50ZXh0KCctQ2hvb3NlIEEgSGV4IFRvIFJldmVhbC0nKTtcbiAgICBhbmltYXRlRGlzcGxheU1lc3NhZ2UoZSk7XG4gICAgbWF0Y2hlcyA9IDA7XG4gICAgZ3Vlc3NlcyA9IDA7XG4gICAgZ2FtZXNQbGF5ZWQgKz0gMTtcbiAgICAkKCcuZGlzcGxheV9tYXRjaGVzJykuaHRtbChtYXRjaGVzKTtcbiAgICAkKCcuZGlzcGxheV9ndWVzc2VzJykuaHRtbChndWVzc2VzKTtcbiAgICAkKCcuZGlzcGxheV9nYW1lc19wbGF5ZWQnKS5odG1sKGdhbWVzUGxheWVkKTtcbiAgICAkKCcuZGlzcGxheV9hY2N1cmFjeScpLmh0bWwoJy0tJyk7XG4gICAgJCgnLmNsb2Nrd2lzZS1pY29uID4gaW1nJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAkKCcuY291bnRlcmNsb2Nrd2lzZS1pY29uID4gaW1nJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAkKCcubm8tcm90YXRlLWJ1dHRvbiA+IGltZycpLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgcmVzZXRGbGlwcGVkVmFyaWFibGVzKCk7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAkKCcuaGV4YWdvbicpLmNzcygndHJhbnNpdGlvbicsICcxcycpLmFkZENsYXNzKCdkZWctMTgwJykucmVtb3ZlQ2xhc3MoJ2RlZy0wIGRlZy02MCBkZWctMTIwIGRlZy0yNDAgZGVnLTMwMCBkZWctMzYwJyk7XG4gICAgICByYW5kb21pemVDYXJkcygpO1xuICAgICAgJCgnLmNhcmQnKS5yZW1vdmVDbGFzcygnbG9ja2VkJyk7XG4gICAgfSwgMTAwMCk7XG4gIH0pO1xufVxuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gIGZsaXBIZXgoKTtcbiAgY2hvb3NlUm90YXRlKCk7XG4gIHJhbmRvbWl6ZUNhcmRzKCk7XG4gIHJlc3RhcnRHYW1lKCk7XG59KTsiXX0=
